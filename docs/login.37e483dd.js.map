{"mappings":"A,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,I,E,I,A,G,E,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,GCVA,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,uE,I,E,E,S,E,E,SCG5F,MAAM,EAAW,IAAI,EAAA,kBAAiB,CAChC,EAAiB,SAAS,cAAc,CAAC,gBACzC,EAAoB,SAAS,cAAc,CAAC,mBAC5C,EAAe,SAAS,cAAc,CAAC,e,I,E,C,ECN7C,EAAiB,IAAA,IAAoB,6BAAA,YAAA,GAAA,EAA8B,QAAQ,GDS3E,MAAM,EAAN,IAAA,IAAA,GA4BA,eAAe,IACb,GAAI,CACF,GAAI,CAAC,OAAO,mBAAmB,CAAE,CAC/B,MAAM,2DACN,MACF,CAEmB,MAAM,UAAU,WAAW,CAAC,MAAM,CAAC,CACpD,UAAW,CACT,UAAW,IAAI,WAAW,IAC1B,GAAI,CAAE,KAAM,WAAY,EACxB,KAAM,CACJ,GAAI,IAAI,WAAW,IACnB,KAAM,iBACN,YAAa,gBACf,EACA,iBAAkB,CAAC,CAAE,IAAK,GAAI,KAAM,YAAa,EAAE,CACnD,uBAAwB,CAAE,iBAAkB,UAAW,EACvD,QAAS,GACX,CACF,KAGE,QAAQ,GAAG,CAAC,uCACZ,aAAa,OAAO,CAAC,OAAQ,KAAK,SAAS,CAAC,CAAE,KAAM,gBAAiB,IACrE,OAAO,QAAQ,CAAC,IAAI,CAAG,YAE3B,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,yBAA0B,GACxC,EAAa,KAAK,CAAC,OAAO,CAAG,QAC7B,EAAa,SAAS,CAAG,oCAC3B,CACF,CA1DI,kBAAmB,WACrB,UAAU,aAAa,CACpB,QAAQ,CAAC,EAAiB,IAAI,CAAE,CAAE,MAAO,GAAI,GAC7C,IAAI,CAAC,IAAM,QAAQ,GAAG,CAAC,2CACvB,KAAK,CAAC,AAAC,GAAQ,QAAQ,KAAK,CAAC,sCAAuC,IAyDzE,EAAe,gBAAgB,CAAC,QArDhC,WACE,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAAA,IAAG,CAAG,GACnB,IAAI,CAAC,AAAC,IACL,IAAM,EAAO,EAAO,IAAI,CACxB,aAAa,OAAO,CAClB,OACA,KAAK,SAAS,CAAC,CAAE,MAAO,EAAK,KAAK,CAAE,KAAM,EAAK,WAAW,AAAC,IAE7D,OAAO,QAAQ,CAAC,IAAI,CAAG,WACzB,GACC,KAAK,CAAC,AAAC,IACN,QAAQ,KAAK,CAAC,sBAAuB,EAAM,OAAO,EAClD,EAAa,KAAK,CAAC,OAAO,CAAG,QAC7B,EAAa,SAAS,CAAG,iCAC3B,EACJ,GAuCA,EAAkB,gBAAgB,CAAC,QAAS","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-9284ffa9b6871a6b.js","assets/js/signIn.js","node_modules/@parcel/runtime-js/lib/runtime-375312f4f380534d.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error('Could not resolve bundle with id ' + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $cd19b2fa1ec15e6a$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse(\"[\\\"earC1\\\",\\\"login.37e483dd.js\\\",\\\"b7sw5\\\",\\\"service-worker.2c89527d.js\\\"]\"));\n\n\nvar $47Mwn = parcelRequire(\"47Mwn\");\n\nvar $6AR8M = parcelRequire(\"6AR8M\");\nconst $f9208ba5285f3f38$var$provider = new (0, $6AR8M.GoogleAuthProvider)();\nconst $f9208ba5285f3f38$var$googleLoginBtn = document.getElementById(\"google-login\");\nconst $f9208ba5285f3f38$var$biometricLoginBtn = document.getElementById(\"biometric-login\");\nconst $f9208ba5285f3f38$var$errorMessage = document.getElementById(\"login-error\");\nvar $dfc28a4cef0a91a0$exports = {};\n$dfc28a4cef0a91a0$exports = new URL(\"service-worker.2c89527d.js\", import.meta.url).toString();\n\n\n// Register Service Worker (For PWA support)\nconst $f9208ba5285f3f38$var$serviceWorkerUrl = new URL($dfc28a4cef0a91a0$exports);\nif (\"serviceWorker\" in navigator) navigator.serviceWorker.register($f9208ba5285f3f38$var$serviceWorkerUrl.href, {\n    scope: \"/\"\n}).then(()=>console.log(\"Service Worker Registered Successfully\")).catch((err)=>console.error(\"Service Worker Registration Failed:\", err));\n// Google Sign-In Function\nfunction $f9208ba5285f3f38$var$signIn() {\n    (0, $6AR8M.signInWithPopup)((0, $47Mwn.auth), $f9208ba5285f3f38$var$provider).then((result)=>{\n        const user = result.user;\n        localStorage.setItem(\"user\", JSON.stringify({\n            email: user.email,\n            name: user.displayName\n        }));\n        window.location.href = \"main.html\"; // Redirect to homepage\n    }).catch((error)=>{\n        console.error(\"Google Login Error:\", error.message);\n        $f9208ba5285f3f38$var$errorMessage.style.display = \"block\";\n        $f9208ba5285f3f38$var$errorMessage.innerText = \"Google Login Failed. Try again.\";\n    });\n}\n// Biometric Authentication Function\nasync function $f9208ba5285f3f38$var$biometricSignIn() {\n    try {\n        if (!window.PublicKeyCredential) {\n            alert(\"Biometric authentication not supported in this browser.\");\n            return;\n        }\n        const credential = await navigator.credentials.create({\n            publicKey: {\n                challenge: new Uint8Array(32),\n                rp: {\n                    name: \"Book Blog\"\n                },\n                user: {\n                    id: new Uint8Array(32),\n                    name: \"biometric_user\",\n                    displayName: \"Biometric User\"\n                },\n                pubKeyCredParams: [\n                    {\n                        alg: -7,\n                        type: \"public-key\"\n                    }\n                ],\n                authenticatorSelection: {\n                    userVerification: \"required\"\n                },\n                timeout: 60000\n            }\n        });\n        if (credential) {\n            console.log(\"Biometric Authentication Successful\");\n            localStorage.setItem(\"user\", JSON.stringify({\n                name: \"Biometric User\"\n            }));\n            window.location.href = \"main.html\"; // Redirect to homepage\n        }\n    } catch (error) {\n        console.error(\"Biometric Login Error:\", error);\n        $f9208ba5285f3f38$var$errorMessage.style.display = \"block\";\n        $f9208ba5285f3f38$var$errorMessage.innerText = \"Biometric Login Failed. Try again.\";\n    }\n}\n// Attach Event Listeners to Buttons\n$f9208ba5285f3f38$var$googleLoginBtn.addEventListener(\"click\", $f9208ba5285f3f38$var$signIn);\n$f9208ba5285f3f38$var$biometricLoginBtn.addEventListener(\"click\", $f9208ba5285f3f38$var$biometricSignIn);\n\n\n//# sourceMappingURL=login.37e483dd.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"earC1\\\",\\\"login.37e483dd.js\\\",\\\"b7sw5\\\",\\\"service-worker.2c89527d.js\\\"]\"));","import { auth } from \"./firebase.js\";\r\nimport { signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nconst provider = new GoogleAuthProvider();\r\nconst googleLoginBtn = document.getElementById(\"google-login\");\r\nconst biometricLoginBtn = document.getElementById(\"biometric-login\");\r\nconst errorMessage = document.getElementById(\"login-error\");\r\n\r\n// Register Service Worker (For PWA support)\r\nconst serviceWorkerUrl = new URL(\"service-worker.js\", import.meta.url);\r\n\r\nif (\"serviceWorker\" in navigator) {\r\n  navigator.serviceWorker\r\n    .register(serviceWorkerUrl.href, { scope: \"/\" })\r\n    .then(() => console.log(\"Service Worker Registered Successfully\"))\r\n    .catch((err) => console.error(\"Service Worker Registration Failed:\", err));\r\n}\r\n\r\n// Google Sign-In Function\r\nfunction signIn() {\r\n  signInWithPopup(auth, provider)\r\n    .then((result) => {\r\n      const user = result.user;\r\n      localStorage.setItem(\r\n        \"user\",\r\n        JSON.stringify({ email: user.email, name: user.displayName })\r\n      );\r\n      window.location.href = \"main.html\"; // Redirect to homepage\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Google Login Error:\", error.message);\r\n      errorMessage.style.display = \"block\";\r\n      errorMessage.innerText = \"Google Login Failed. Try again.\";\r\n    });\r\n}\r\n\r\n// Biometric Authentication Function\r\nasync function biometricSignIn() {\r\n  try {\r\n    if (!window.PublicKeyCredential) {\r\n      alert(\"Biometric authentication not supported in this browser.\");\r\n      return;\r\n    }\r\n\r\n    const credential = await navigator.credentials.create({\r\n      publicKey: {\r\n        challenge: new Uint8Array(32),\r\n        rp: { name: \"Book Blog\" },\r\n        user: {\r\n          id: new Uint8Array(32),\r\n          name: \"biometric_user\",\r\n          displayName: \"Biometric User\",\r\n        },\r\n        pubKeyCredParams: [{ alg: -7, type: \"public-key\" }],\r\n        authenticatorSelection: { userVerification: \"required\" },\r\n        timeout: 60000,\r\n      },\r\n    });\r\n\r\n    if (credential) {\r\n      console.log(\"Biometric Authentication Successful\");\r\n      localStorage.setItem(\"user\", JSON.stringify({ name: \"Biometric User\" }));\r\n      window.location.href = \"main.html\"; // Redirect to homepage\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Biometric Login Error:\", error);\r\n    errorMessage.style.display = \"block\";\r\n    errorMessage.innerText = \"Biometric Login Failed. Try again.\";\r\n  }\r\n}\r\n\r\n// Attach Event Listeners to Buttons\r\ngoogleLoginBtn.addEventListener(\"click\", signIn);\r\nbiometricLoginBtn.addEventListener(\"click\", biometricSignIn);\r\n","module.exports = new __parcel__URL__(\"service-worker.2c89527d.js\").toString();"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$47Mwn","$6AR8M","$f9208ba5285f3f38$var$provider","GoogleAuthProvider","$f9208ba5285f3f38$var$googleLoginBtn","document","getElementById","$f9208ba5285f3f38$var$biometricLoginBtn","$f9208ba5285f3f38$var$errorMessage","$dfc28a4cef0a91a0$exports","$f9208ba5285f3f38$var$serviceWorkerUrl","$f9208ba5285f3f38$var$biometricSignIn","window","PublicKeyCredential","alert","navigator","credentials","create","publicKey","challenge","Uint8Array","rp","name","user","displayName","pubKeyCredParams","alg","type","authenticatorSelection","userVerification","timeout","console","log","localStorage","setItem","stringify","location","href","error","style","display","innerText","serviceWorker","scope","then","catch","addEventListener","signInWithPopup","auth","result","email","message"],"version":3,"file":"login.37e483dd.js.map"}